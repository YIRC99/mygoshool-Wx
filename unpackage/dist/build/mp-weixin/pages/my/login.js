(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/login"],{"234f":function(n,e,o){"use strict";(function(n,i){var t=o("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(o("2ee6")),c={components:{mylist:function(){o.e("components/mylist/mylist").then(function(){return resolve(o("bc53"))}.bind(null,o)).catch(o.oe)}},mixins:[s.default],data:function(){return{isLogin:!1,info:{},isLoading:!1}},methods:{toUserinfo:function(){this.isLogin&&n.navigateTo({url:"/subpkg/userinfo?userid="+this.info.userid})},toReceiveOrder:function(){this.isLogin?n.navigateTo({url:"/subpkg/receiveorder"}):this.$refs.message.show({type:"error",msg:"请登录后重试吧"})},toInfo:function(){this.isLogin?n.navigateTo({url:"/subpkg/setting"}):this.$refs.message.show({type:"error",msg:"请登录后重试吧"})},mychooseavatar:function(n){console.log(n)},getuserphone:function(n){console.log(n)},toFeedback:function(){this.isLogin?n.navigateTo({url:"/subpkg/feedback"}):this.$refs.message.show({type:"error",msg:"请登录后重试吧"})},toSendOrder:function(){this.isLogin?n.navigateTo({url:"/subpkg/sendorder",success:function(n){},fail:function(){},complete:function(){}}):this.$refs.message.show({type:"error",msg:"请登录后重试吧"})},myonshow:function(){console.log("my login 页面的show 触发了");var e=n.getStorageSync("token");this.isLogin=void 0!=e&&null!=e&&""!=e,this.info=n.getStorageSync("user")},WxLoginSuccess:function(){this.isLoading=!1,this.isLogin=!0,n.setStorageSync("token",this.info.openid),n.setStorageSync("user",this.info),this.$refs.message.show({type:"success",msg:"登录成功"})},WxLoginFail:function(){this.isLoading=!1,this.$refs.toast.show({type:"error",message:"登录失败,请稍重试",duration:1500})},wxLogin:function(){var n=this;this.isLoading=!0,console.log("调用了微信登录"),i.login({success:function(e){n.post({url:"user/login?code=".concat(e.code)}).then((function(e){console.log(e),200==e.code?(n.info=e.data,n.WxLoginSuccess()):n.WxLoginFail()}))},fail:function(n){console.log("调用微信登录失败",n)}})}},created:function(){var e=this;n.checkSession({success:function(n){console.log("验证session success",n)},fail:function(n){console.log("验证session fail 自动登录微信",n),e.wxLogin()}})}};e.default=c}).call(this,o("543d")["default"],o("bc2e")["default"])},"2a64":function(n,e,o){"use strict";o.r(e);var i=o("234f"),t=o.n(i);for(var s in i)["default"].indexOf(s)<0&&function(n){o.d(e,n,(function(){return i[n]}))}(s);e["default"]=t.a},"3c3c":function(n,e,o){},"49b3":function(n,e,o){"use strict";var i=o("3c3c"),t=o.n(i);t.a},"4db9":function(n,e,o){},7003:function(n,e,o){"use strict";o.d(e,"b",(function(){return t})),o.d(e,"c",(function(){return s})),o.d(e,"a",(function(){return i}));var i={mylist:function(){return o.e("components/mylist/mylist").then(o.bind(null,"bc53"))},zeroLoading:function(){return o.e("uni_modules/zero-loading/components/zero-loading/zero-loading").then(o.bind(null,"0cb3"))},quickMessage:function(){return Promise.all([o.e("common/vendor"),o.e("components/quick-message/quick-message")]).then(o.bind(null,"bb33"))}},t=function(){var n=this.$createElement;this._self._c},s=[]},7301:function(n,e,o){"use strict";var i=o("4db9"),t=o.n(i);t.a},"78cc":function(n,e,o){"use strict";(function(n,e){var i=o("4ea4");o("33e0");i(o("66fd"));var t=i(o("dccd"));n.__webpack_require_UNI_MP_PLUGIN__=o,e(t.default)}).call(this,o("bc2e")["default"],o("543d")["createPage"])},dccd:function(n,e,o){"use strict";o.r(e);var i=o("7003"),t=o("2a64");for(var s in t)["default"].indexOf(s)<0&&function(n){o.d(e,n,(function(){return t[n]}))}(s);o("7301"),o("49b3");var c=o("f0c5"),u=Object(c["a"])(t["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=u.exports}},[["78cc","common/runtime","common/vendor"]]]);